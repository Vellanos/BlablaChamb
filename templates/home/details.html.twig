{% extends 'base.html.twig' %}

{% block body %}
	<div class="details-contener">
		<div class="card card-details">
			<div class="card-body">
				<div class="d-flex justify-content-between align-items-center">
					<h5 class="card-title">{{rides.depart}}</h5>
					<img class="arrow" src="{{ asset('img/icons8-flèche-24.png')}}" alt="Photo de profile">
				</img>
				<h5 class="card-title">{{rides.destination}}</h5>
			</div>
			<div class="d-flex justify-content-between align-items-center">
				<h6 class="card-subtitle mb-2 text-body-secondary">Le {{rides.date.format('m-d')}} à {{rides.date.format('H:i')}}</h6>
				<h6 class="card-subtitle mb-2 text-body-secondary">{{rides.seats}} 
					places</h6>
			</div>
			<div class="d-flex justify-content-between align-items-center">
				<div class="profil d-flex align-items-center">
					<img class="profil-pic" src="{{ asset('img/icons8-utilisateur-sexe-neutre-64.png')}}" alt="Photo de profile">
				</img>
				<p class="card-text">{{rides.driver.firstName}}</p>
			</div>
			<div class="price">
				<p class="card-date">{{rides.price}}€</p>
			</div>
		</div>
		<h6 class="card-subtitle mb-2 text-body-secondary">Règles :
		</h6>
		{% for rules in rides.rules %}
			<div>
				<p>
					{{rules.name}}
					:
					{{rules.description}}
				</p>
			</div>
		{% endfor %}

		{% if not app.user or app.user.id != rides.driver.id %}
		<div class="button-reservation" >
			<a href="{{ path('app_resa')}}">Réserver sa place</a>
		</div>
		{% elseif app.user.id == rides.driver.id %}
		<div class="d-flex btn-edit">
			<div class="button-edition" >
				<a href="{{ path('app_edit_ride', {'id': rides.id, 'from': 'details'}) }}" class="btn btn-primary mb-3">Edit</a>
			</div>
			<div class="button-suppression" >
				<a href="{{ path('app_ride_delete', {'id': rides.id, 'from': 'details'}) }}" class="btn btn-primary mb-3">Delete</a>
			</div>
		</div>
		{% endif %}
	</div>
{% endblock %}
